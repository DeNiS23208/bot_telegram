# Инструкция по автоматическому коммиту и обновлению

## Автоматизация работы с Git

При каждом запросе на изменение кода будут автоматически выполняться:
1. Коммит изменений в репозиторий
2. Пуш изменений в GitHub
3. Обновление кода на сервере

## Созданные скрипты

### 1. `git_commit_and_push.sh`
Автоматически коммитит и пушит все изменения в репозиторий.

**Использование:**
```bash
./git_commit_and_push.sh
```

**Что делает:**
- Проверяет наличие изменений
- Добавляет все изменения (`git add -A`)
- Создает коммит с текущей датой и временем
- Пушит в `origin/main`

### 2. `update_server.sh`
Обновляет код на сервере из репозитория и перезапускает сервисы.

**Использование:**
```bash
./update_server.sh
```

**Что делает:**
- Подключается к серверу
- Выполняет `git pull origin main`
- Перезапускает сервисы `telegram-bot` и `webhook`
- Проверяет статус сервисов

## Автоматическое выполнение

Скрипты будут автоматически вызываться после каждого изменения кода.

## Ручное выполнение

Если нужно выполнить вручную:

```bash
# Только коммит и пуш
cd /Users/gdm/Documents/bot_telegram
./git_commit_and_push.sh

# Только обновление сервера
./update_server.sh

# И то, и другое
./git_commit_and_push.sh && ./update_server.sh
```

## Важно

- Убедитесь, что у вас есть права на запись в репозиторий GitHub
- Скрипты используют сохраненные учетные данные для SSH и Git
- При обновлении сервера сервисы автоматически перезапускаются

